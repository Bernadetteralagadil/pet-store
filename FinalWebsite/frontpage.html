<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pet Shop - The Furry Home in a Store</title>
  <link rel="stylesheet" href="frontpage.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
  <style>
    html {
      scroll-behavior: smooth;
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>
  <div class="frontpage">

    <!-- Showcase Section -->
    <section id="showcase" class="showcase">
      <div class="text-container">
        <h1>Hello, <span id="user-greeting">Guest</span>!</h1>
        <p>Welcome to our pet shop, where you will find quality products designed to enhance the well-being of your beloved pets. We are committed to providing only the finest selections for your furry companions.</p>
        <a href="product.html" class="button">Shop Now</a>
      </div>
    </section>

    <!-- Product Showcase Section -->
    <section id="product-showcase" class="product-showcase">
      <h2>Showcase of Quality Pet Products</h2>
      <p>Discover our exceptional collection of pet products that cater to the needs and preferences of your pets. Each item is thoughtfully selected to promote their health and happiness.</p>
      <div class="product-grid">
        <!-- Product 1 -->
        <div class="product-item">
          <img src="src/Product1.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Bare Kitchen Fresh Lamb Recipe Wet Dog Food 430g</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 2 -->
        <div class="product-item">
          <img src="src/Product2.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Barbeque Dog Food</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 3 -->
        <div class="product-item">
          <img src="src/Product3.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Bare Kitchen Premium Ham Chicken Sausages Dog Food 430g</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 4 -->
        <div class="product-item">
          <img src="src/Product4.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Bare Kitchen Premium Ham Salmon Sausages Dog Food 430g</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 5 -->
        <div class="product-item">
          <img src="src/Product5.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Damo</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 6 -->
        <div class="product-item">
          <img src="src/Product6.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Whiskas 7 kg</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 7 -->
        <div class="product-item">
          <img src="src/Product7.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Smart Heart Salmon 430g</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
        <!-- Product 8 -->
        <div class="product-item">
          <img src="src/Product8.png" alt="Bare Kitchen Fresh Lamb Recipe Wet Dog Food" class="product-image">
          <div class="product-details">
            <h3>Creamy Cat Treats</h3>
            <p>₱199.00</p>
            <button class="add-to-cart">Add to Cart</button>
          </div>
        </div>
      </div>
      <div class="see-all-container">
        <a href="product.html" class="see-all-link">See all Products</a>
      </div>
    </section>

    <!-- About Us Section -->
    <section id="about-us" class="about-us">
      <h2>About Us</h2>
      <p>Welcome to Pet Shop, your one-stop destination for all your pet care needs! We are passionate about pets and dedicated to providing the best products to keep your furry, feathered, or scaly friends happy and healthy.</p>
      <div class="about-us-grid">
        <!-- Item 1 -->
        <div class="about-us-item">
          <img src="src/aboutPic1.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
        <!-- Item 2 -->
        <div class="about-us-item">
          <img src="src/aboutPic2.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
        <!-- Item 3 -->
        <div class="about-us-item">
          <img src="src/aboutPic3.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
        <!-- Item 4 -->
        <div class="about-us-item">
          <img src="src/aboutPic4.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
        <!-- Item 5 -->
        <div class="about-us-item">
          <img src="src/aboutPic5.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
        <!-- Item 6 -->
        <div class="about-us-item">
          <img src="src/aboutPic6.jpg" alt="Nutritious Pet Food">
          <h3>Nutritious Pet Food</h3>
          <p>High-quality options tailored to your pet's dietary needs.</p>
        </div>
      </div>
    </section>

    <div id="footer-placeholder"></div>
  
    <script>

      // Event Listener for Add to Cart Buttons
document.querySelectorAll('.add-to-cart').forEach(button => {
  button.addEventListener('click', () => {
    const productItem = button.closest('.product-item');
    const description = productItem.querySelector('h3').innerText;
    const priceText = productItem.querySelector('p').innerText;
    const price = parseFloat(priceText.replace('₱', '').trim());
    const quantity = 1; // Default to 1 for now
    const totalPrice = price * quantity;

    const urlParams = new URLSearchParams(window.location.search);
    const accountID = urlParams.get('accountID') || null;

    if (!accountID) {
      alert('You need to log in to add items to your cart.');
      return;
    }

    const cartData = {
      accountID,
      description,
      price,
      quantity,
      totalPrice
    };

    // Send the data to the server
    fetch('http://localhost:8000/addtocart.php', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(cartData)
    })
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        alert('Item added to cart successfully!');
      } else {
        alert('Failed to add item to cart: ' + data.message);
      }
    })
    .catch(error => console.error('Error:', error));
  });
});

function redirectToCart() {
    const urlParams = new URLSearchParams(window.location.search);
    const accountID = urlParams.get('accountID');
    if (!accountID) {
        alert('You need to log in to view your cart.');
        return;
    }
    window.location.href = `cart.html?accountID=${accountID}`;
}

// Example: Cart Button Event Listener
document.querySelectorAll('.cart-button').forEach(button => {
    button.addEventListener('click', redirectToCart);
});

  // Load the accountID from URL
const urlParams = new URLSearchParams(window.location.search);
const accountID = urlParams.get('accountID');

// Log the accountID to the console
console.log('Account ID:', accountID);

if (accountID) {
  // Fetch user's first name using accountID
  fetch(`http://localhost:8000/getFirstName.php?accountID=${accountID}`)
    .then(response => response.json())
    .then(data => {
      if (data.success) {
        document.getElementById('user-greeting').innerText = data.firstName;
      } else {
        console.error(data.message);
      }
    })
    .catch(error => console.error('Error:', error));
}

// Load header content and include the accountID
fetch(`header.html${accountID ? '?accountID=' + accountID : ''}`)
  .then(response => response.text())
  .then(data => {
    document.getElementById('header-placeholder').innerHTML = data;
  });

// Load footer content
fetch('footer.html')
  .then(response => response.text())
  .then(data => {
    document.getElementById('footer-placeholder').innerHTML = data;
  });

    </script>

  </div>
</body>
</html>
